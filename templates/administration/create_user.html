{% extends 'administration/users.html' %}
{% load static %}

<!-- header content -->
{% block title-content %}PepegaHR: Create user{% endblock title-content %}

{% block head-page %}
<link rel="stylesheet" href="{% static '/administration/css/create_user.css' %}">
{% endblock head-page %}

<!-- main content -->
{% block main-content %}
<div class="card">
    <div class="card-content">
        <span class="card-title">Создание пользователя</span>
        <form method="POST" action="{% url 'admin-create-user' %}" id="create-user-form" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="row" style="margin-bottom: 0rem;">
                <div class="file-field input-field col s12">
                    <div class="btn">
                        <span>Выбрать изображение</span>
                        <input type="file" id="profile_image" name="profile_image">
                    </div>
                    <img src="/media/user-photos/default.png" class="circle image-preview" alt="" width="48px">
                    <div class="file-path-wrapper" >
                        <input class="file-path validate" type="text">
                    </div>
                </div>
            </div>
            <div class="row" style="margin-bottom: 0rem;">
                <div class="input-field col s12 l6">
                    <i class="material-icons prefix">person</i>
                    <input id="first_name" name="first_name" type="text" class="validate" pattern="[A-Za-zА-Яа-яЁё]+" 
                           autocomplete="name" required maxlength="30" data-length="30">
                    <span class="helper-text" data-error="Не правильный формат поля"></span>
                    <label for="first_name">Имя</label>
                </div>
                <div class="input-field col s12 l6">
                    <i class="material-icons prefix">person</i>
                    <input id="last_name" name="last_name" type="text" class="validate" pattern="[A-Za-zА-Яа-яЁё]+"
                           autocomplete="family-name" required maxlength="150" data-length="150">
                    <span class="helper-text" data-error="Не правильный формат поля"></span>
                    <label for="last_name">Фамилия</label>
                 </div>
            </div>
            <div class="row" style="margin-bottom: 0rem;">
                <div class="input-field col s12 l6">
                    <i class="material-icons prefix">assignment_ind</i>
                    <input id="nickname" name="nickname" type="text" class="validate" pattern="[A-Za-z\._]+[0-9]*"
                           autocomplete="nickname" required maxlength="50" data-length="50">
                    <span class="helper-text" data-error="Не правильный формат поля"></span>
                    <label for="nickname">Nickname</label>
                </div>
                <div class="input-field col s12 l6">
                    <i class="material-icons prefix">email</i>
                    <input id="email" name="email" type="email" class="validate" 
                           autocomplete="email" required>
                    <span class="helper-text" data-error="Не правильный формат поля"></span>
                    <label for="email">Email</label>
                </div>
            </div>
            <div class="row" style="margin-bottom: 0rem;">
                <div class="input-field col s12 l6">
                    <i class="material-icons prefix">lock</i>
                    <input id="password" name="password" type="password" class="validate" 
                           autocomplete="new-password" required>
                    <label for="password">Пароль</label>
                </div>
                <div class="input-field col s12 l6">
                    <i class="material-icons prefix">lock</i>
                    <input id="confirm_password" name="confirm_password" type="password"
                           сlass="validate" required>
                    <label for="confirm_password">Подтвердите пароль</label>
                    <span class="helper-text" data-error="Пароли не совпадают"></span>
                 </div>
            </div>
            <div class="row">
                <div class="input-field col s12">
                    <i class="material-icons prefix">perm_identity</i>
                    <select id="role" name="role">
                        <option value="adm">Администратор</option>
                        <option value="mod">Модератор</option>
                        <option value="usr">Пользователь</option>
                    </select>
                    <label>Роль</label>
                  </div>
            </div>
        </form>
    </div>
    <div class="card-action">
        <div>
            <a href="{% url 'admin-users-page' %}" class=" btn-flat waves-effect waves-light">Отмена</a>
            <button form="create-user-form" class="btn waves-effect waves-light" type="submit" >Создать</button>
        </div>
    </div>
</div>
{% endblock main-content %}

{% block script-page %}
<script type="text/javascript" src="{% static '/administration/js/create_user.js' %}"></script>
{% endblock script-page %}